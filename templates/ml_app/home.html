{% extends 'ml_app/base.html' %}

{% block title %}Home - Praxis{% endblock %}

{% block content %}
<div class="text-center mb-5">
    <h1 class="display-4 fw-bold" style="color: var(--primary-color);">
        <i class="fas fa-brain"></i> Welcome to Praxis
    </h1>
    <p class="lead">Analyze and predict with our Machine Learning models</p>
    {% if user.is_authenticated %}
        <p class="text-muted">
            Logged in as <strong>{{ user.username }}</strong>
            {% if user.is_staff %}
                <span class="badge bg-warning">Administrator</span>
            {% else %}
                <span class="badge bg-info">User</span>
            {% endif %}
        </p>
    {% endif %}
</div>

<div class="row g-4">
    <!-- Clustering Card -->
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-header">
                <h3 class="mb-0">
                    <i class="fas fa-project-diagram"></i> AI Job Clustering
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Analyze global AI market trends and discover job clusters based on:
                </p>
                <ul>
                    <li>Salaries and compensation</li>
                    <li>Required experience levels</li>
                    <li>Company locations</li>
                    <li>Company sizes</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:clustering_analysis' %}" class="btn btn-primary btn-lg">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:clustering_predict' %}" class="btn btn-outline-primary">
                            <i class="fas fa-search"></i> Predict a Cluster
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-primary">
                            <i class="fas fa-sign-in-alt"></i> Log in to predict
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Global AI Job Market 2025</small>
            </div>
        </div>
    </div>

    <!-- Salary Prediction Card -->
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-header" style="background: linear-gradient(135deg, #27ae60, #229954);">
                <h3 class="mb-0">
                    <i class="fas fa-dollar-sign"></i> Salary Prediction
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Predict salaries using multiple regression models based on:
                </p>
                <ul>
                    <li>Age and years of experience</li>
                    <li>Education level</li>
                    <li>Job title</li>
                    <li>Gender</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:salary_analysis' %}" class="btn btn-success btn-lg">
                            <i class="fas fa-chart-line"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:salary_predict' %}" class="btn btn-outline-success">
                            <i class="fas fa-calculator"></i> Estimate a Salary
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-success">
                            <i class="fas fa-sign-in-alt"></i> Log in to predict
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Salary Data</small>
            </div>
        </div>
    </div>

    <!-- Platform Classification Card -->
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-header" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                <h3 class="mb-0">
                    <i class="fas fa-sitemap"></i> Platform Classification
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Discover which recruitment platform will give the best visibility to your job:
                </p>
                <ul>
                    <li>LinkedIn, BeBee, Jooble, etc.</li>
                    <li>Based on job type</li>
                    <li>Location and company</li>
                    <li>Job characteristics</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:classification_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:classification_predict' %}" class="btn btn-outline-secondary">
                            <i class="fas fa-magic"></i> Predict a Platform
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-secondary">
                            <i class="fas fa-sign-in-alt"></i> Log in to predict
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Jobs Data</small>
            </div>
        </div>
    </div>

    <!-- Job Title Classification Card -->
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-header" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
                <h3 class="mb-0">
                    <i class="fas fa-briefcase"></i> Job Title Classification
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Predict the job type (Data Analyst, Data Scientist, Data Engineer, etc.) based on:
                </p>
                <ul>
                    <li>Contract type (Full-time, Part-time)</li>
                    <li>Industry sector</li>
                    <li>Recruitment platform</li>
                    <li>Number of required skills</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:job_title_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:job_title_predict' %}" class="btn btn-outline-danger">
                            <i class="fas fa-search"></i> Predict a Job Type
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-danger">
                            <i class="fas fa-sign-in-alt"></i> Log in to predict
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Jobs Data</small>
            </div>
        </div>
    </div>

    <!-- Time Series Forecast Card -->
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-header" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                <h3 class="mb-0">
                    <i class="fas fa-chart-line"></i> Time Series Forecast
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Predict the number of job postings for upcoming months with advanced time series analysis:
                </p>
                <ul>
                    <li>STL Decomposition (Trend + Seasonality)</li>
                    <li>Simple Moving Average (SMA) and statistical models</li>
                    <li>Predictions from 1 to 12 months</li>
                    <li>Accuracy: MAPE ≈ 1.8% (Excellent)</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:forecast_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:forecast_predict' %}" class="btn btn-outline-secondary">
                            <i class="fas fa-crystal-ball"></i> Predict Upcoming Months
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-secondary">
                            <i class="fas fa-sign-in-alt"></i> Log in to predict
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Jobs Final Data</small>
            </div>
        </div>
    </div>

    <!-- Experience Prediction Card (NEW) -->
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-header" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
                <h3 class="mb-0">
                    <i class="fas fa-user-clock"></i> Experience Prediction
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Estimate required years of experience based on job characteristics:
                </p>
                <ul>
                    <li>Industry and education level</li>
                    <li>Required skills</li>
                    <li>Employment type and company size</li>
                    <li>Models: Linear, Random Forest, Gradient Boosting, SVR</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:experience_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:experience_predict' %}" class="btn btn-outline-danger">
                            <i class="fas fa-graduation-cap"></i> Estimate Experience
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-danger">
                            <i class="fas fa-sign-in-alt"></i> Log in to predict
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Full HR Dataset</small>
            </div>
        </div>
    </div>

    <!-- Employee Clustering Card (NEW) -->
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-header" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                <h3 class="mb-0">
                    <i class="fas fa-users-cog"></i> Employee Profiles
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Automatically classify employees into Junior or Senior profiles:
                </p>
                <ul>
                    <li>Based on salary and years of experience</li>
                    <li>Benefits score and remote work</li>
                    <li>Clustering: KMeans, Agglomerative, DBSCAN</li>
                    <li>Detailed profile visualizations</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:employee_clustering_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #4facfe, #00f2fe); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:employee_clustering_predict' %}" class="btn btn-outline-info">
                            <i class="fas fa-user-tag"></i> Determine Profile
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-info">
                            <i class="fas fa-sign-in-alt"></i> Log in to predict
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Full HR Dataset</small>
            </div>
        </div>
    </div>

    <!-- Company Profiling Card (DS1) -->
    <div class="col-md-4">
        <div class="card h-100 border-0 shadow-lg">
            <div class="card-header" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                <h3 class="mb-0">
                    <i class="fas fa-building"></i> Company Segmentation
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Segment companies by profile and AI adoption:
                </p>
                <ul>
                    <li>K-Means Clustering (4 segments)</li>
                    <li>Analysis by sector, size and AI</li>
                    <li>PCA visualization of segments</li>
                    <li>Complete cluster profiling</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:company_profiling_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:company_profiling_predict' %}" class="btn btn-outline-primary">
                            <i class="fas fa-building"></i> Identify Segment
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-primary">
                            <i class="fas fa-sign-in-alt"></i> Log in
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: AI Jobs Dataset</small>
            </div>
        </div>
    </div>

    <!-- Job Skill Clustering Card -->
    <div class="col-md-4">
        <div class="card h-100 border-0 shadow-lg">
            <div class="card-header" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                <h3 class="mb-0">
                    <i class="fas fa-brain"></i> Skill-Based Clustering
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Clustering based on technical skills of jobs:
                </p>
                <ul>
                    <li>3 identified profiles: Business/BI, Data Engineer, Data Scientist</li>
                    <li>PCA analysis and K-means (k=3)</li>
                    <li>Top skills per cluster</li>
                    <li>Job title distribution</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:job_skill_clustering_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:job_skill_clustering_predict' %}" class="btn btn-outline-info">
                            <i class="fas fa-magic"></i> Identify My Profile
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-secondary">
                            <i class="fas fa-sign-in-alt"></i> Log in
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: Processed Job Skills</small>
            </div>
        </div>
    </div>

    <!-- Job Analysis Card (DS2) -->
    <div class="col-md-4">
        <div class="card h-100 border-0 shadow-lg">
            <div class="card-header" style="background: linear-gradient(135deg, #fa709a, #fee140);">
                <h3 class="mb-0">
                    <i class="fas fa-briefcase"></i> Job Analysis
                </h3>
            </div>
            <div class="card-body">
                <p class="card-text">
                    Salary regression and AI profile classification:
                </p>
                <ul>
                    <li>Salary prediction: Linear + Random Forest</li>
                    <li>AI profile classification (High/Low)</li>
                    <li>Feature importance analysis</li>
                    <li>Complete metrics (R², Accuracy)</li>
                </ul>
                <div class="d-grid gap-2">
                    {% if user.is_staff %}
                        <a href="{% url 'ml_app:job_analysis_analysis' %}" class="btn btn-lg" style="background: linear-gradient(135deg, #fa709a, #fee140); color: white;">
                            <i class="fas fa-chart-bar"></i> View Analysis
                        </a>
                    {% endif %}
                    {% if user.is_authenticated %}
                        <a href="{% url 'ml_app:job_analysis_predict_ai_profile' %}" class="btn btn-outline-info">
                            <i class="fas fa-robot"></i> Classify AI Profile
                        </a>
                    {% else %}
                        <a href="{% url 'ml_app:login' %}" class="btn btn-outline-warning">
                            <i class="fas fa-sign-in-alt"></i> Log in
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="card-footer text-muted">
                <small><i class="fas fa-database"></i> Dataset: AI Jobs Dataset</small>
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-12">
        <div class="card">
            <div class="card-header" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                <h3 class="mb-0">
                    <i class="fas fa-info-circle"></i> About This Application
                </h3>
            </div>
            <div class="card-body">
                <!-- Technologies -->
                <div class="mb-4">
                    <h5 class="border-bottom pb-2"><i class="fas fa-cogs text-primary"></i> Technologies Used</h5>
                    <div class="row mt-3">
                        <div class="col-md-4 mb-3">
                            <div class="d-flex align-items-center">
                                <i class="fab fa-python fa-2x text-success me-3"></i>
                                <div>
                                    <strong>Django</strong><br>
                                    <small class="text-muted">Python web framework</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-brain fa-2x text-info me-3"></i>
                                <div>
                                    <strong>Scikit-learn</strong><br>
                                    <small class="text-muted">Machine Learning</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-table fa-2x text-warning me-3"></i>
                                <div>
                                    <strong>Pandas & NumPy</strong><br>
                                    <small class="text-muted">Data processing</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-chart-line fa-2x text-danger me-3"></i>
                                <div>
                                    <strong>Matplotlib & Seaborn</strong><br>
                                    <small class="text-muted">Visualisations</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="d-flex align-items-center">
                                <i class="fab fa-bootstrap fa-2x text-purple me-3"></i>
                                <div>
                                    <strong>Bootstrap 5</strong><br>
                                    <small class="text-muted">User interface</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-database fa-2x text-secondary me-3"></i>
                                <div>
                                    <strong>SQLite</strong><br>
                                    <small class="text-muted">Database</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ML Models -->
                <div class="mt-4">
                    <h5 class="border-bottom pb-2"><i class="fas fa-robot text-success"></i> Available ML Models</h5>
                    <div class="row mt-3">
                        <div class="col-md-3 mb-3">
                            <div class="card bg-light h-100">
                                <div class="card-body">
                                    <h6 class="card-title text-primary"><i class="fas fa-project-diagram"></i> Clustering</h6>
                                    <ul class="list-unstyled small mb-0">
                                        <li>• K-means</li>
                                        <li>• Agglomerative</li>
                                        <li>• DBSCAN</li>
                                        <li>• Gaussian Mixture</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card bg-light h-100">
                                <div class="card-body">
                                    <h6 class="card-title text-success"><i class="fas fa-chart-line"></i> Regression</h6>
                                    <ul class="list-unstyled small mb-0">
                                        <li>• Linear & Polynomial</li>
                                        <li>• Decision Tree</li>
                                        <li>• Random Forest</li>
                                        <li>• Gradient Boosting</li>
                                        <li>• SVR</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card bg-light h-100">
                                <div class="card-body">
                                    <h6 class="card-title text-info"><i class="fas fa-tags"></i> Classification</h6>
                                    <ul class="list-unstyled small mb-0">
                                        <li>• KNN & SVM</li>
                                        <li>• Decision Tree</li>
                                        <li>• Random Forest</li>
                                        <li>• XGBoost</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card bg-light h-100">
                                <div class="card-body">
                                    <h6 class="card-title text-warning"><i class="fas fa-calendar-alt"></i> Time Series</h6>
                                    <ul class="list-unstyled small mb-0">
                                        <li>• STL Decomposition</li>
                                        <li>• SMA + Saisonnalité</li>
                                        <li>• Holt-Winters</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-4">
        <div class="stats-card text-center">
            <i class="fas fa-project-diagram fa-3x mb-2"></i>
            <h3>9</h3>
            <p>ML Modules</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="stats-card text-center" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
            <i class="fas fa-brain fa-3x mb-2"></i>
            <h3>30+</h3>
            <p>ML Models</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="stats-card text-center" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
            <i class="fas fa-chart-bar fa-3x mb-2"></i>
            <h3>30+</h3>
            <p>Visualizations</p>
        </div>
    </div>
</div>
{% endblock %}
